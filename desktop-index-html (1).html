<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>1doc MedOps Dashboard</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif}
    @keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
    .animate-pulse{animation:pulse 2s cubic-bezier(0.4,0,0.6,1) infinite}
    .hide-scrollbar::-webkit-scrollbar{display:none}
    .hide-scrollbar{-ms-overflow-style:none;scrollbar-width:none}
  </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const{useState,useEffect}=React;
const Icon=({name,className="w-5 h-5"})=>{
  const i={
    DollarSign:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>,
    Target:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" strokeWidth={2}/><circle cx="12" cy="12" r="6" strokeWidth={2}/><circle cx="12" cy="12" r="2" strokeWidth={2}/></svg>,
    Activity:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
    Building:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>,
    Syringe:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19.5 4.5l-1-1m1 1l-1 1m1-1L17 7m0 0l-3 3m3-3l1-1M14 10l-7 7m0 0l-2 2m2-2l2 2m-2-2H5m2 2v-2"/></svg>,
    Heart:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>,
    MessageCircle:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>,
    Clock:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>,
    Zap:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>,
    Send:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/></svg>,
    Check:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>,
    Eye:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>,
    Reply:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"/></svg>,
    Calendar:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>,
    ChevronDown:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7"/></svg>,
    Settings:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>,
    Sparkles:<svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/></svg>,
  };
  return i[name]||null;
};

function App(){
  const[activeTab,setActiveTab]=useState('daily');
  const[selectedClinic,setSelectedClinic]=useState('msg');
  const[dailyClinicView,setDailyClinicView]=useState('msg');
  const[isMobile,setIsMobile]=useState(window.innerWidth<768);
  
  useEffect(()=>{
    const h=()=>setIsMobile(window.innerWidth<768);
    window.addEventListener('resize',h);
    return()=>window.removeEventListener('resize',h);
  },[]);

  const tabs=[
    {id:'daily',label:'Daily',fullLabel:'Daily Summary',icon:'DollarSign',color:'text-emerald-600',bg:'bg-emerald-100'},
    {id:'revenue',label:'Target',fullLabel:'Revenue Target',icon:'Target',color:'text-violet-600',bg:'bg-violet-100'},
    {id:'efficiency',label:'Flow',fullLabel:'Patient Flow',icon:'Activity',color:'text-blue-600',bg:'bg-blue-100'},
    {id:'compare',label:'Compare',fullLabel:'Compare',icon:'Building',color:'text-orange-600',bg:'bg-orange-100'},
    {id:'services',label:'Services',fullLabel:'Services',icon:'Syringe',color:'text-pink-600',bg:'bg-pink-100'},
    {id:'healthiersg',label:'HSG',fullLabel:'HSG',icon:'Heart',color:'text-red-600',bg:'bg-red-100'},
    {id:'whatsapp',label:'WhatsApp',fullLabel:'WhatsApp',icon:'MessageCircle',color:'text-green-600',bg:'bg-green-100'},
    {id:'askeva',label:'Ask Eva',fullLabel:'Ask Eva',icon:'Sparkles',color:'text-purple-600',bg:'bg-purple-100'},
    {id:'settings',label:'Settings',fullLabel:'Settings',icon:'Settings',color:'text-indigo-600',bg:'bg-indigo-100'},
  ];

  const clinics=[
    {id:'all',name:'All Clinics (Compare View)',short:'ALL'},
    {id:'msg',name:'Mediline Serangoon (MSG)',short:'MSG'},
    {id:'mmp',name:'Mediline Medipoint (MMP)',short:'MMP'},
    {id:'rdh',name:'RDH Clinic',short:'RDH'},
    {id:'tpy',name:'Toa Payoh Clinic',short:'TPY'},
    {id:'amk',name:'Ang Mo Kio Clinic',short:'AMK'},
    {id:'bd',name:'Bedok Clinic',short:'BD'},
    {id:'tp',name:'Tampines Clinic',short:'TP'},
    {id:'wl',name:'Woodlands Clinic',short:'WL'},
    {id:'jw',name:'Jurong West Clinic',short:'JW'},
    {id:'cck',name:'Choa Chu Kang Clinic',short:'CCK'},
  ];
  
  const allClinicsData=[
    {id:'msg',name:'Mediline Serangoon',short:'MSG',mtdRevenue:134536.08,target:200000,dailyTarget:6450,expectedMTD:116100,variance:18436.08,outstanding:0,patients:56,doctors:[
      {name:'Dr Eugene Loke',initials:'EL',patients:45,revenue:6579.11,color:'bg-gradient-to-r from-blue-500 to-indigo-500'},
      {name:'Dr Sarina',initials:'SA',patients:11,revenue:943.99,color:'bg-gradient-to-r from-pink-500 to-rose-500'}
    ],payments:{app:8320.24,nets:34612.50,paynow:52468.92,tpa:28650.00,chas:8934.42,healthiersg:1550.00}},
    {id:'mmp',name:'Mediline Medipoint',short:'MMP',mtdRevenue:128420.50,target:200000,dailyTarget:6450,expectedMTD:116100,variance:12320.50,outstanding:250,patients:48,doctors:[
      {name:'Dr James Tan',initials:'JT',patients:32,revenue:5420.30,color:'bg-gradient-to-r from-emerald-500 to-teal-500'},
      {name:'Dr Michelle Lee',initials:'ML',patients:16,revenue:2890.50,color:'bg-gradient-to-r from-purple-500 to-violet-500'}
    ],payments:{app:7705.23,nets:33069.28,paynow:50084.00,tpa:27380.50,chas:8531.49,healthiersg:1650.00}},
    {id:'rdh',name:'RDH Clinic',short:'RDH',mtdRevenue:112850.30,target:180000,dailyTarget:5806,expectedMTD:104508,variance:8342.30,outstanding:180,patients:42,doctors:[
      {name:'Dr David Wong',initials:'DW',patients:28,revenue:4250.80,color:'bg-gradient-to-r from-orange-500 to-amber-500'},
      {name:'Dr Rachel Ng',initials:'RN',patients:14,revenue:2105.40,color:'bg-gradient-to-r from-rose-500 to-pink-500'}
    ],payments:{app:6771.02,nets:29040.93,paynow:44011.62,tpa:24027.06,chas:7499.67,healthiersg:1500.00}},
    {id:'tpy',name:'Toa Payoh Clinic',short:'TPY',mtdRevenue:98520.00,target:160000,dailyTarget:5161,expectedMTD:92898,variance:5622.00,outstanding:0,patients:38,doctors:[
      {name:'Dr Kevin Lim',initials:'KL',patients:38,revenue:5120.00,color:'bg-gradient-to-r from-cyan-500 to-blue-500'}
    ],payments:{app:5911.20,nets:25339.44,paynow:38422.80,tpa:20982.26,chas:6544.30,healthiersg:1320.00}},
    {id:'amk',name:'Ang Mo Kio Clinic',short:'AMK',mtdRevenue:145230.80,target:220000,dailyTarget:7097,expectedMTD:127746,variance:17484.80,outstanding:320,patients:62,doctors:[
      {name:'Dr Sarah Chen',initials:'SC',patients:25,revenue:5890.20,color:'bg-gradient-to-r from-indigo-500 to-blue-500'},
      {name:'Dr Andrew Koh',initials:'AK',patients:22,revenue:4320.50,color:'bg-gradient-to-r from-green-500 to-emerald-500'},
      {name:'Dr Linda Teo',initials:'LT',patients:15,revenue:3250.80,color:'bg-gradient-to-r from-fuchsia-500 to-pink-500'}
    ],payments:{app:8713.85,nets:37364.32,paynow:56639.81,tpa:30898.15,chas:9634.67,healthiersg:1980.00}},
  ];

  const paymentLabels={app:'1doc App',nets:'NETS',paynow:'PayNow',tpa:'TPA',chas:'CHAS',healthiersg:'HealthierSG'};
  const paymentColors={app:'bg-violet-500',nets:'bg-blue-500',paynow:'bg-emerald-500',tpa:'bg-orange-500',chas:'bg-pink-500',healthiersg:'bg-cyan-500'};
  const paymentLightColors={app:'bg-violet-100',nets:'bg-blue-100',paynow:'bg-emerald-100',tpa:'bg-orange-100',chas:'bg-pink-100',healthiersg:'bg-cyan-100'};

  const[monthlyTargets]=useState({jan:200000,feb:210000,mar:220000,apr:230000,may:240000,jun:250000,jul:260000,aug:270000,sep:280000,oct:290000,nov:300000,dec:320000});
  const months=[{key:'jan',name:'January',short:'Jan'},{key:'feb',name:'February',short:'Feb'},{key:'mar',name:'March',short:'Mar'},{key:'apr',name:'April',short:'Apr'},{key:'may',name:'May',short:'May'},{key:'jun',name:'June',short:'Jun'},{key:'jul',name:'July',short:'Jul'},{key:'aug',name:'August',short:'Aug'},{key:'sep',name:'September',short:'Sep'},{key:'oct',name:'October',short:'Oct'},{key:'nov',name:'November',short:'Nov'},{key:'dec',name:'December',short:'Dec'}];
  const totalAnnualTarget=Object.values(monthlyTargets).reduce((a,b)=>a+b,0);

  const doctors=[{name:'Dr Eugene Loke',inClinic:45,revenue:6579.11,color:'bg-gradient-to-r from-blue-500 to-indigo-500',initials:'EL'},{name:'Dr Sarina',inClinic:11,revenue:943.99,color:'bg-gradient-to-r from-pink-500 to-rose-500',initials:'SA'}];
  const paymentModes=[{mode:'1doc App',amount:14236.55,percent:6.2,color:'bg-violet-500',light:'bg-violet-100'},{mode:'NETS',amount:59110.20,percent:25.7,color:'bg-blue-500',light:'bg-blue-100'},{mode:'PayNow',amount:89630.88,percent:39.0,color:'bg-emerald-500',light:'bg-emerald-100'},{mode:'TPA',amount:49210.45,percent:21.4,color:'bg-orange-500',light:'bg-orange-100'},{mode:'CHAS',amount:14480.55,percent:6.3,color:'bg-pink-500',light:'bg-pink-100'},{mode:'HealthierSG',amount:3151.99,percent:1.4,color:'bg-cyan-500',light:'bg-cyan-100'}];
  const aiServices=[{service:'SICK REVIEW',unitPrice:60,additional:500,icon:'ü©∫'},{service:'INFLUENZA VAX',unitPrice:45,additional:667,icon:'üíâ'},{service:'SHINGLES VAX',unitPrice:280,additional:108,icon:'üõ°Ô∏è'},{service:'HEALTH SCREENING',unitPrice:180,additional:167,icon:'üìã'},{service:'NKF RENAL',unitPrice:25,additional:1200,icon:'ü´ò'},{service:'BUZUD CGM',unitPrice:90,additional:334,icon:'üìä'}];
  const patientFlow=[{doctor:'Dr Eugene Loke',patients:45,avgWait:12,avgThroughput:28,p95Wait:25},{doctor:'Dr Sarina',patients:11,avgWait:18,avgThroughput:35,p95Wait:42}];
  const clinicComparison=[{clinic:'Mediline Serangoon',short:'MSG',mtdRevenue:236820.63,patients:56,avgWait:13,medal:'ü•á'},{clinic:'Mediline Medipoint',short:'MMP',mtdRevenue:178700.83,patients:44,avgWait:12,medal:'ü•à'},{clinic:'RDH',short:'RDH',mtdRevenue:154824.42,patients:39,avgWait:11,medal:'ü•â'}];
  const servicesOrdered=[{service:'Influenza Vaccination',today:12,last7:68,mtd:185,icon:'üíâ',trend:'+15%'},{service:'Shingles Vaccination',today:3,last7:14,mtd:39,icon:'üõ°Ô∏è',trend:'+8%'},{service:'Health Screening',today:7,last7:33,mtd:92,icon:'üìã',trend:'+22%'}];
  const promos=[{code:'NKF-RENAL',programme:'NKF Renal Screening',signups:26,completed:18,conversion:69},{code:'BUZUD-CGM',programme:'BUZUD CGM Promo',signups:33,completed:25,conversion:76}];
  const healthCoach=[{patient:'John T',time:'Today 11:05',coach:'Sulin',status:'Replied',color:'bg-emerald-100 text-emerald-700'},{patient:'Mdm Wong',time:'Yesterday',coach:'Aida',status:'Read',color:'bg-blue-100 text-blue-700'},{patient:'Mr Lim',time:'Yesterday',coach:'Hana',status:'Sent',color:'bg-gray-100 text-gray-700'}];

  return(
    <div className="bg-gradient-to-br from-slate-50 via-blue-50 to-violet-50 min-h-screen pb-20 md:pb-6">
      {/* Header */}
      <div className="bg-white/90 backdrop-blur-md border-b border-gray-200 px-4 md:px-6 py-3 md:py-4 sticky top-0 z-20">
        <div className="max-w-7xl mx-auto flex items-center justify-between">
          <div className="flex items-center gap-2 md:gap-3">
            <div className="w-8 h-8 md:w-10 md:h-10 bg-gradient-to-br from-blue-500 to-violet-600 rounded-lg md:rounded-xl flex items-center justify-center text-white font-bold text-sm md:text-lg shadow-lg">1</div>
            <div>
              <h1 className="text-sm md:text-lg font-bold text-gray-900">1doc MedOps</h1>
              <p className="text-xs text-gray-500">{isMobile?'01/11/2025':'Real-time clinic operations ‚Ä¢ 01/11/2025'}</p>
            </div>
          </div>
          <span className="inline-flex items-center px-2 md:px-3 py-1 md:py-1.5 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-700">
            <span className="w-1.5 h-1.5 md:w-2 md:h-2 bg-emerald-500 rounded-full mr-1.5 md:mr-2 animate-pulse"></span>Live
          </span>
        </div>
      </div>

      {/* Desktop Tabs */}
      {!isMobile&&(
        <div className="bg-white/60 backdrop-blur-sm border-b border-gray-200 px-6 sticky top-16 z-10">
          <div className="max-w-7xl mx-auto flex gap-1 overflow-x-auto py-2 hide-scrollbar">
            {tabs.map(tab=>(
              <button key={tab.id} onClick={()=>setActiveTab(tab.id)} className={`flex items-center gap-2 px-4 py-2.5 text-sm font-medium whitespace-nowrap rounded-xl transition-all ${activeTab===tab.id?'bg-white shadow-md text-gray-900':'text-gray-500 hover:bg-white/50'}`}>
                <Icon name={tab.icon} className={`w-4 h-4 ${activeTab===tab.id?tab.color:''}`}/>
                {tab.fullLabel}
              </button>
            ))}
          </div>
        </div>
      )}

      {/* Content */}
      <div className="px-4 md:px-6 py-4 md:py-6 max-w-7xl mx-auto">
        {/* Daily */}
        {activeTab==='daily'&&(
          <div className="space-y-4 md:space-y-6">
            {/* Clinic Picker for Daily View */}
            <div className="bg-white rounded-xl md:rounded-2xl p-3 md:p-4 shadow-sm border border-gray-100">
              <p className="text-xs text-gray-500 font-medium mb-2">Select Clinic View</p>
              <div className="relative">
                <select value={dailyClinicView} onChange={e=>setDailyClinicView(e.target.value)} className="w-full appearance-none bg-gray-50 border border-gray-200 rounded-xl px-4 py-2.5 pr-10 text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                  {clinics.map(c=>(<option key={c.id} value={c.id}>{c.name}</option>))}
                </select>
                <div className="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"><Icon name="ChevronDown" className="w-5 h-5 text-gray-400"/></div>
              </div>
            </div>

            {/* All Clinics Comparison View */}
            {dailyClinicView==='all'?(
              <div className="space-y-4 md:space-y-6">
                <div className="bg-gradient-to-r from-slate-700 via-slate-800 to-slate-900 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white">
                  <p className="text-slate-300 text-xs md:text-sm mb-1">Yesterday's Closing Summary</p>
                  <h2 className="text-xl md:text-3xl font-bold mb-2">All Clinics Comparison üìä</h2>
                  <p className="text-slate-400 text-sm">Comparing {allClinicsData.length} clinics ‚Ä¢ Day 18 of Month</p>
                </div>
                
                <div className="grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4">
                  <div className="bg-white rounded-xl p-3 md:p-4 shadow-sm border border-gray-100"><p className="text-xs text-gray-500">Total MTD Revenue</p><p className="text-xl md:text-2xl font-bold text-gray-900">S${(allClinicsData.reduce((s,c)=>s+c.mtdRevenue,0)/1000).toFixed(0)}k</p></div>
                  <div className="bg-white rounded-xl p-3 md:p-4 shadow-sm border border-gray-100"><p className="text-xs text-gray-500">Total Outstanding</p><p className="text-xl md:text-2xl font-bold text-orange-600">S${allClinicsData.reduce((s,c)=>s+c.outstanding,0).toLocaleString()}</p></div>
                  <div className="bg-white rounded-xl p-3 md:p-4 shadow-sm border border-gray-100"><p className="text-xs text-gray-500">Total Variance</p><p className="text-xl md:text-2xl font-bold text-emerald-600">+S${(allClinicsData.reduce((s,c)=>s+c.variance,0)/1000).toFixed(1)}k</p></div>
                  <div className="bg-white rounded-xl p-3 md:p-4 shadow-sm border border-gray-100"><p className="text-xs text-gray-500">Total Patients</p><p className="text-xl md:text-2xl font-bold text-blue-600">{allClinicsData.reduce((s,c)=>s+c.patients,0)}</p></div>
                </div>

                {/* All Clinics Payment Breakdown */}
                <div className="bg-white rounded-xl md:rounded-2xl p-4 md:p-5 shadow-sm border border-gray-100">
                  <h3 className="text-sm md:text-base font-bold text-gray-900 mb-4 flex items-center gap-2">üí≥ Total Payment Breakdown (All Clinics MTD)</h3>
                  <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
                    {Object.keys(paymentLabels).map(key=>{
                      const total=allClinicsData.reduce((s,c)=>s+c.payments[key],0);
                      const grandTotal=allClinicsData.reduce((s,c)=>s+c.mtdRevenue,0);
                      const percent=((total/grandTotal)*100).toFixed(1);
                      return(
                        <div key={key} className={`${paymentLightColors[key]} rounded-xl p-3 border`}>
                          <div className="flex items-center gap-2 mb-2">
                            <div className={`w-3 h-3 ${paymentColors[key]} rounded-full`}/>
                            <span className="text-sm font-medium text-gray-700">{paymentLabels[key]}</span>
                          </div>
                          <p className="text-lg md:text-xl font-bold text-gray-900">S${(total/1000).toFixed(1)}k</p>
                          <p className="text-xs text-gray-500">{percent}% of total</p>
                        </div>
                      );
                    })}
                  </div>
                </div>

                <div className="bg-white rounded-xl md:rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                  <div className="bg-gradient-to-r from-slate-50 to-gray-50 px-4 py-3 border-b border-gray-100"><h3 className="font-bold text-gray-900 text-sm">üèÜ Clinic Performance Ranking</h3></div>
                  <div className="divide-y divide-gray-50">
                    {allClinicsData.sort((a,b)=>b.variance-a.variance).map((clinic,i)=>(
                      <div key={clinic.id} className="p-3 md:p-4 hover:bg-gray-50 transition-colors">
                        <div className="flex items-center justify-between mb-3">
                          <div className="flex items-center gap-3">
                            <div className={`w-8 h-8 md:w-10 md:h-10 rounded-xl flex items-center justify-center text-white font-bold shadow ${i===0?'bg-gradient-to-r from-amber-400 to-amber-500':i===1?'bg-gradient-to-r from-gray-400 to-gray-500':i===2?'bg-gradient-to-r from-orange-400 to-orange-500':'bg-gradient-to-r from-slate-400 to-slate-500'}`}>
                              {i===0?'ü•á':i===1?'ü•à':i===2?'ü•â':i+1}
                            </div>
                            <div>
                              <p className="font-semibold text-gray-900 text-sm">{clinic.name}</p>
                              <p className="text-xs text-gray-500">{clinic.short} ‚Ä¢ {clinic.doctors.length} doctors ‚Ä¢ {clinic.patients} patients</p>
                            </div>
                          </div>
                          <div className="text-right">
                            <p className="font-bold text-gray-900">S${(clinic.mtdRevenue/1000).toFixed(1)}k</p>
                            <p className={`text-xs font-medium ${clinic.variance>=0?'text-emerald-600':'text-red-600'}`}>{clinic.variance>=0?'+':''}{(clinic.variance/1000).toFixed(1)}k vs target</p>
                          </div>
                        </div>
                        
                        {/* Doctor Performance per Clinic */}
                        <div className="mb-3">
                          <p className="text-xs text-gray-500 font-medium mb-2">üë®‚Äç‚öïÔ∏è Doctor Performance (Yesterday)</p>
                          <div className="flex flex-wrap gap-2">
                            {clinic.doctors.map((doc,di)=>(
                              <div key={di} className="flex items-center gap-2 bg-gray-50 rounded-lg px-2 py-1.5 border border-gray-100">
                                <div className={`w-6 h-6 ${doc.color} rounded-lg flex items-center justify-center text-white text-xs font-bold`}>{doc.initials}</div>
                                <div>
                                  <p className="text-xs font-medium text-gray-800">{doc.name}</p>
                                  <p className="text-xs text-gray-500">{doc.patients} pts ‚Ä¢ <span className="font-semibold text-emerald-600">S${doc.revenue.toLocaleString()}</span></p>
                                </div>
                              </div>
                            ))}
                          </div>
                        </div>
                        
                        {/* Payment breakdown per clinic */}
                        <div className="flex flex-wrap gap-2 mt-2">
                          {Object.keys(paymentLabels).map(key=>(
                            <div key={key} className="flex items-center gap-1 bg-gray-100 rounded-lg px-2 py-1">
                              <div className={`w-2 h-2 ${paymentColors[key]} rounded-full`}/>
                              <span className="text-xs text-gray-600">{paymentLabels[key]}:</span>
                              <span className="text-xs font-semibold text-gray-800">S${(clinic.payments[key]/1000).toFixed(1)}k</span>
                            </div>
                          ))}
                        </div>
                        <div className="mt-2 flex items-center gap-2">
                          <div className="flex-1 bg-gray-100 rounded-full h-2">
                            <div className={`h-2 rounded-full ${clinic.variance>=0?'bg-emerald-500':'bg-red-500'}`} style={{width:`${Math.min((clinic.mtdRevenue/clinic.expectedMTD)*100,100)}%`}}/>
                          </div>
                          <span className="text-xs text-gray-500">{((clinic.mtdRevenue/clinic.expectedMTD)*100).toFixed(0)}%</span>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                {/* All Doctors Performance Summary */}
                <div className="bg-white rounded-xl md:rounded-2xl p-4 md:p-5 shadow-sm border border-gray-100">
                  <h3 className="text-sm md:text-base font-bold text-gray-900 mb-4 flex items-center gap-2">üë®‚Äç‚öïÔ∏è All Doctors Performance (Yesterday)</h3>
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                    {allClinicsData.flatMap(clinic=>clinic.doctors.map(doc=>({...doc,clinic:clinic.short}))).sort((a,b)=>b.revenue-a.revenue).map((doc,i)=>(
                      <div key={i} className="flex items-center gap-3 bg-gray-50 rounded-xl p-3 border border-gray-100">
                        <div className="flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-xs font-bold text-gray-600">
                          {i===0?'ü•á':i===1?'ü•à':i===2?'ü•â':i+1}
                        </div>
                        <div className={`w-10 h-10 ${doc.color} rounded-xl flex items-center justify-center text-white text-sm font-bold shadow`}>{doc.initials}</div>
                        <div className="flex-1 min-w-0">
                          <p className="font-semibold text-gray-900 text-sm truncate">{doc.name}</p>
                          <p className="text-xs text-gray-500">{doc.clinic} ‚Ä¢ {doc.patients} patients</p>
                        </div>
                        <div className="text-right">
                          <p className="text-lg font-bold text-emerald-600">S${doc.revenue.toLocaleString()}</p>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            ):(
              /* Single Clinic View */
              <div className="space-y-4 md:space-y-6">
                <div className="bg-gradient-to-r from-blue-600 via-indigo-600 to-violet-600 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white relative overflow-hidden">
                  <div className="absolute right-0 top-0 opacity-20 hidden md:block"><svg viewBox="0 0 200 200" className="w-48 h-48"><circle cx="150" cy="50" r="80" fill="white"/><circle cx="180" cy="100" r="60" fill="white"/></svg></div>
                  <div className="relative z-10">
                    <div className="flex items-center justify-between mb-1">
                      <p className="text-blue-100 text-xs md:text-sm">Yesterday's Closing Summary</p>
                      <span className="bg-white/20 px-2 py-1 rounded-lg text-xs font-medium">{clinics.find(c=>c.id===dailyClinicView)?.short||'MSG'}</span>
                    </div>
                    <h2 className="text-xl md:text-3xl font-bold mb-3 md:mb-4">Great Performance! üéâ</h2>
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4">
                      <div className="bg-white/20 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4"><p className="text-blue-100 text-xs mb-1">MTD Revenue</p><p className="text-lg md:text-2xl font-bold">S$134,536.08</p></div>
                      <div className="bg-white/20 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4"><p className="text-blue-100 text-xs mb-1">Outstanding</p><p className="text-lg md:text-2xl font-bold">S$0</p></div>
                      <div className="bg-white/20 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4"><p className="text-blue-100 text-xs mb-1">Target (Month)</p><p className="text-lg md:text-2xl font-bold">S$200k</p></div>
                      <div className="bg-white/20 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4"><p className="text-blue-100 text-xs mb-1">Patients</p><p className="text-lg md:text-2xl font-bold">56 üë•</p></div>
                    </div>
                  </div>
                </div>

                {/* Revenue Target Tracking Card */}
                <div className="bg-white rounded-xl md:rounded-2xl p-4 md:p-5 shadow-sm border border-gray-100">
                  <h3 className="text-sm md:text-base font-bold text-gray-900 mb-4 flex items-center gap-2">üìà Revenue Target Tracking (S$200k/month)</h3>
                  <div className="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4">
                    <div className="bg-blue-50 rounded-xl p-3 border border-blue-100">
                      <p className="text-xs text-blue-600 font-medium mb-1">Daily Target</p>
                      <p className="text-xl font-bold text-blue-700">S$6,450</p>
                    </div>
                    <div className="bg-slate-50 rounded-xl p-3 border border-slate-200">
                      <p className="text-xs text-slate-600 font-medium mb-1">Expected MTD (Day 18)</p>
                      <p className="text-xl font-bold text-slate-700">S$116,100</p>
                    </div>
                    <div className="bg-violet-50 rounded-xl p-3 border border-violet-100">
                      <p className="text-xs text-violet-600 font-medium mb-1">Actual MTD</p>
                      <p className="text-xl font-bold text-violet-700">S$134,536.08</p>
                    </div>
                    <div className="bg-emerald-50 rounded-xl p-3 border border-emerald-100">
                      <p className="text-xs text-emerald-600 font-medium mb-1">Variance</p>
                      <p className="text-xl font-bold text-emerald-700">+S$18,436.08</p>
                    </div>
                  </div>
                  <div className="mt-4">
                    <div className="flex justify-between text-xs text-gray-500 mb-1">
                      <span>Progress to S$200k</span>
                      <span className="font-medium">67.3%</span>
                    </div>
                    <div className="bg-gray-100 rounded-full h-3">
                      <div className="bg-gradient-to-r from-blue-500 to-violet-500 h-3 rounded-full" style={{width:'67.3%'}}/>
                    </div>
                    <div className="flex justify-between text-xs mt-1">
                      <span className="text-emerald-600 font-medium">‚úì Ahead of target by S$18,436.08</span>
                      <span className="text-gray-400">S$65,463.92 to go</span>
                    </div>
                  </div>
                </div>

                {/* Payment Breakdown for Single Clinic */}
                <div className="bg-white rounded-xl md:rounded-2xl p-4 md:p-5 shadow-sm border border-gray-100">
                  <h3 className="text-sm md:text-base font-bold text-gray-900 mb-4 flex items-center gap-2">üí≥ Payment Breakdown (MTD)</h3>
                  <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
                    {(() => {
                      const clinicData = allClinicsData.find(c => c.id === dailyClinicView) || allClinicsData[0];
                      return Object.keys(paymentLabels).map(key => {
                        const amount = clinicData.payments[key];
                        const percent = ((amount / clinicData.mtdRevenue) * 100).toFixed(1);
                        return (
                          <div key={key} className={`${paymentLightColors[key]} rounded-xl p-3 border`}>
                            <div className="flex items-center gap-2 mb-2">
                              <div className={`w-3 h-3 ${paymentColors[key]} rounded-full`}/>
                              <span className="text-sm font-medium text-gray-700">{paymentLabels[key]}</span>
                            </div>
                            <p className="text-lg md:text-xl font-bold text-gray-900">S${amount.toLocaleString()}</p>
                            <p className="text-xs text-gray-500">{percent}% of total</p>
                          </div>
                        );
                      });
                    })()}
                  </div>
                </div>

                <div>
                  <h3 className="text-sm md:text-lg font-bold text-gray-900 mb-3 md:mb-4 flex items-center gap-2">üë®‚Äç‚öïÔ∏è Doctors</h3>
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4">
                    {doctors.map((doc,i)=>(<div key={i} className="bg-white rounded-xl md:rounded-2xl p-3 md:p-5 shadow-sm border border-gray-100"><div className="flex items-center gap-3 md:gap-4"><div className={`w-10 h-10 md:w-14 md:h-14 ${doc.color} rounded-xl md:rounded-2xl flex items-center justify-center text-white text-sm md:text-xl font-bold shadow-lg`}>{doc.initials}</div><div className="flex-1 min-w-0"><p className="font-semibold text-gray-900 text-sm md:text-base truncate">{doc.name}</p><p className="text-xs md:text-sm text-gray-500">{doc.inClinic} patients</p></div><div className="text-right"><p className="text-lg md:text-2xl font-bold text-gray-900">S${doc.revenue.toLocaleString()}</p><p className="text-xs text-emerald-600">+12%</p></div></div></div>))}
                  </div>
                </div>
              </div>
            )}
          </div>
        )}

        {/* Revenue Target */}
        {activeTab==='revenue'&&(
          <div className="space-y-4 md:space-y-6">
            <div className="bg-gradient-to-r from-violet-600 to-purple-600 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white">
              <p className="text-violet-200 text-xs md:text-sm mb-1">Revenue Target</p>
              <h2 className="text-xl md:text-3xl font-bold">AI Trial Target üéØ</h2>
            </div>
            <div className="grid grid-cols-3 md:grid-cols-6 gap-2 md:gap-3">
              {[{l:'Target',v:'S$200k',i:'üéØ'},{l:'MTD',v:'S$182k',i:'üìà'},{l:'Gap',v:'S$18k',i:'üìä'},{l:'Trial',v:'S$230k',i:'üöÄ'},{l:'Delta',v:'S$30k',i:'‚ö°'},{l:'Days',v:'29',i:'üìÖ'}].map((x,i)=>(<div key={i} className="bg-white rounded-xl md:rounded-2xl p-3 md:p-4 shadow-sm border border-gray-100 text-center"><span className="text-lg">{x.i}</span><p className="text-xs text-gray-500 mt-1">{x.l}</p><p className="text-sm md:text-lg font-bold text-gray-900">{x.v}</p></div>))}
            </div>
            <div className="space-y-2">
              {aiServices.map((s,i)=>(<div key={i} className="bg-white rounded-xl p-3 md:p-4 shadow-sm border border-gray-100 flex items-center justify-between"><div className="flex items-center gap-2"><span className="text-xl">{s.icon}</span><div><p className="text-sm font-medium text-gray-900">{s.service}</p><p className="text-xs text-gray-500">S${s.unitPrice}</p></div></div><div className="flex items-center gap-2"><span className="bg-violet-100 text-violet-700 px-2 py-1 rounded-lg text-xs font-bold">+{s.additional}</span><button className="bg-green-500 text-white px-2 py-1 rounded-lg text-xs">üí¨</button></div></div>))}
            </div>
          </div>
        )}

        {/* Patient Flow */}
        {activeTab==='efficiency'&&(
          <div className="space-y-4 md:space-y-6">
            <div className="bg-gradient-to-r from-blue-600 to-cyan-600 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white">
              <p className="text-blue-100 text-xs md:text-sm mb-1">Patient Flow</p>
              <h2 className="text-xl md:text-3xl font-bold mb-3 md:mb-4">Efficiency ‚ö°</h2>
              <div className="grid grid-cols-2 gap-2 md:gap-4">
                <div className="bg-white/20 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4 text-center"><p className="text-blue-100 text-xs">Avg Wait</p><p className="text-2xl md:text-3xl font-bold">15<span className="text-sm md:text-lg">min</span></p></div>
                <div className="bg-white/20 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4 text-center"><p className="text-blue-100 text-xs">Throughput</p><p className="text-2xl md:text-3xl font-bold">31.5<span className="text-sm md:text-lg">min</span></p></div>
              </div>
            </div>
            {patientFlow.map((p,i)=>(<div key={i} className="bg-white rounded-xl md:rounded-2xl p-4 shadow-sm border border-gray-100"><p className="font-semibold text-gray-900 mb-2">{p.doctor}</p><div className="grid grid-cols-4 gap-2 text-center"><div><p className="text-xs text-gray-500">Patients</p><p className="text-lg font-bold text-blue-600">{p.patients}</p></div><div><p className="text-xs text-gray-500">Wait</p><p className="text-lg font-bold text-emerald-600">{p.avgWait}m</p></div><div><p className="text-xs text-gray-500">Thru</p><p className="text-lg font-bold text-violet-600">{p.avgThroughput}m</p></div><div><p className="text-xs text-gray-500">P95</p><p className="text-lg font-bold text-orange-600">{p.p95Wait}m</p></div></div></div>))}
          </div>
        )}

        {/* Compare */}
        {activeTab==='compare'&&(
          <div className="space-y-4 md:space-y-6">
            <div className="bg-gradient-to-r from-orange-500 to-amber-500 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white"><p className="text-orange-100 text-xs md:text-sm mb-1">Compare</p><h2 className="text-xl md:text-3xl font-bold">Clinic Rankings üèÜ</h2></div>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4">
              {clinicComparison.map((c,i)=>(<div key={i} className={`bg-white rounded-xl md:rounded-2xl p-4 md:p-5 shadow-sm border-2 ${i===0?'border-amber-400':'border-gray-100'}`}><div className="flex items-center justify-between mb-2"><div className="flex items-center gap-2"><span className="text-2xl">{c.medal}</span><div><p className="font-bold text-gray-900">{c.short}</p><p className="text-xs text-gray-500">{c.clinic}</p></div></div><p className="text-lg font-bold text-emerald-600">S${(c.mtdRevenue/1000).toFixed(0)}k</p></div><div className="grid grid-cols-2 gap-2 text-center text-xs"><div className="bg-gray-50 rounded-lg p-2"><p className="text-gray-500">Patients</p><p className="font-bold">{c.patients}/day</p></div><div className="bg-gray-50 rounded-lg p-2"><p className="text-gray-500">Wait</p><p className="font-bold">{c.avgWait} min</p></div></div></div>))}
            </div>
          </div>
        )}

        {/* Services */}
        {activeTab==='services'&&(
          <div className="space-y-4 md:space-y-6">
            <div className="bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white"><p className="text-pink-100 text-xs md:text-sm mb-1">Services</p><h2 className="text-xl md:text-3xl font-bold">Analytics üíâ</h2></div>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4">
              {servicesOrdered.map((s,i)=>(<div key={i} className="bg-white rounded-xl p-3 md:p-4 shadow-sm border border-gray-100"><div className="flex items-center justify-between mb-2"><div className="flex items-center gap-2"><span className="text-xl">{s.icon}</span><span className="font-medium text-sm text-gray-900">{s.service}</span></div><span className="text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full font-medium">{s.trend}</span></div><div className="grid grid-cols-3 gap-2 text-center"><div className="bg-blue-50 rounded-lg p-2"><p className="text-xs text-gray-500">Today</p><p className="text-lg font-bold text-blue-600">{s.today}</p></div><div className="bg-violet-50 rounded-lg p-2"><p className="text-xs text-gray-500">7 Days</p><p className="text-lg font-bold text-violet-600">{s.last7}</p></div><div className="bg-emerald-50 rounded-lg p-2"><p className="text-xs text-gray-500">MTD</p><p className="text-lg font-bold text-emerald-600">{s.mtd}</p></div></div></div>))}
            </div>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4">
              {promos.map((p,i)=>(<div key={i} className="bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-3 md:p-4 border border-violet-100"><div className="flex items-center justify-between mb-2"><span className="bg-violet-600 text-white text-xs font-bold px-2 py-1 rounded">{p.code}</span><span className="text-xl font-bold text-violet-600">{p.conversion}%</span></div><p className="font-medium text-gray-900 text-sm mb-1">{p.programme}</p><div className="flex gap-4 text-xs"><span>Signups: <strong>{p.signups}</strong></span><span>Done: <strong className="text-emerald-600">{p.completed}</strong></span></div></div>))}
            </div>
          </div>
        )}

        {/* HSG */}
        {activeTab==='healthiersg'&&(
          <div className="space-y-4 md:space-y-6">
            <div className="bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white"><p className="text-red-100 text-xs md:text-sm mb-1">HealthierSG</p><h2 className="text-xl md:text-3xl font-bold">Care Pipeline ‚ù§Ô∏è</h2></div>
            <div className="bg-white rounded-xl md:rounded-2xl p-4 md:p-6 shadow-sm border border-gray-100"><div className="flex items-center gap-3 mb-4"><div className="w-12 h-12 md:w-16 md:h-16 bg-gradient-to-br from-red-100 to-rose-100 rounded-xl md:rounded-2xl flex items-center justify-center text-2xl md:text-3xl">üè•</div><div><p className="font-bold text-gray-900 text-lg md:text-2xl">MSG Clinic</p><p className="text-xs md:text-sm text-gray-500">Mediline Serangoon</p></div></div><div className="grid grid-cols-2 gap-3 md:gap-4"><div className="bg-blue-50 rounded-xl md:rounded-2xl p-4 md:p-5 text-center border border-blue-100"><p className="text-xs text-gray-500 mb-1">Plans Due (3m)</p><p className="text-3xl md:text-4xl font-bold text-blue-600">128</p></div><div className="bg-rose-50 rounded-xl md:rounded-2xl p-4 md:p-5 text-center border border-rose-100"><p className="text-xs text-gray-500 mb-1">Reports Due (1m)</p><p className="text-3xl md:text-4xl font-bold text-rose-600">44</p></div></div></div>
          </div>
        )}

        {/* WhatsApp */}
        {activeTab==='whatsapp'&&(
          <div className="space-y-4 md:space-y-6">
            <div className="bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white"><p className="text-green-100 text-xs md:text-sm mb-1">Health Coach</p><h2 className="text-xl md:text-3xl font-bold">WhatsApp üí¨</h2></div>
            <div className="grid grid-cols-2 md:grid-cols-5 gap-2 md:gap-3">
              {[{l:'Sent',v:'1,240',s:'MTD'},{l:'Delivered',v:'90%',s:'1,112'},{l:'Read',v:'73%',s:'892'},{l:'Replied',v:'21%',s:'268'},{l:'Avg Response',v:'2h 14m',s:''}].map((x,i)=>(<div key={i} className="bg-white rounded-xl md:rounded-2xl p-3 md:p-4 shadow-sm border border-gray-100 text-center"><p className="text-xs text-gray-500">{x.l}</p><p className="text-xl font-bold text-gray-900">{x.v}</p>{x.s&&<p className="text-xs text-gray-400">{x.s}</p>}</div>))}
            </div>
            <div className="space-y-2">
              {healthCoach.map((h,i)=>(<div key={i} className="bg-white rounded-xl p-3 shadow-sm border border-gray-100 flex items-center justify-between"><div><p className="font-medium text-sm text-gray-900">{h.patient}</p><p className="text-xs text-gray-500">{h.coach} ‚Ä¢ {h.time}</p></div><div className="flex items-center gap-2"><span className={`px-2 py-1 rounded-full text-xs font-medium ${h.color}`}>{h.status}</span><button className="bg-green-500 text-white px-2 py-1 rounded-lg text-xs">Open</button></div></div>))}
            </div>
          </div>
        )}

        {/* Ask Eva */}
        {activeTab==='askeva'&&(
          <div className="space-y-4 md:space-y-6">
            <div className="bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white"><p className="text-purple-100 text-xs md:text-sm mb-1">Enterprise Virtual Assistant</p><h2 className="text-xl md:text-3xl font-bold">Ask Eva ‚ú®</h2><p className="text-purple-100 text-sm mt-1">Your AI-powered clinic assistant</p></div>
            <div className="bg-white rounded-xl md:rounded-2xl p-4 md:p-6 shadow-sm border border-gray-100">
              <div className="flex items-center gap-3 md:gap-4 mb-4 md:mb-6"><div className="w-12 h-12 md:w-16 md:h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white text-xl md:text-2xl shadow-lg">‚ú®</div><div><p className="font-bold text-lg md:text-xl text-gray-900">Eva</p><p className="text-xs md:text-sm text-gray-500">Online ‚Ä¢ Ready to help</p></div></div>
              <div className="bg-gray-50 rounded-xl p-3 md:p-4 mb-3 md:mb-4"><p className="text-sm text-gray-700">Hi! I'm Eva, your Enterprise Virtual Assistant. How can I help you today?</p></div>
              <div className="grid grid-cols-2 md:grid-cols-3 gap-2 md:gap-3 mb-4 md:mb-6">
                {[{i:'üìä',t:'Revenue summary'},{i:'üë•',t:'Patient stats'},{i:'üìÖ',t:'Appointments'},{i:'üíâ',t:'Vaccinations'},{i:'üìà',t:'Insights'},{i:'üè•',t:'Clinic compare'}].map((a,i)=>(<button key={i} className="flex items-center gap-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-xl p-3 text-left transition-colors"><span className="text-lg">{a.i}</span><span className="font-medium text-sm">{a.t}</span></button>))}
              </div>
              <div className="flex gap-2 md:gap-3"><input type="text" placeholder="Ask Eva anything..." className="flex-1 border border-gray-200 rounded-xl px-3 md:px-4 py-2 md:py-3 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"/><button className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 md:px-6 py-2 md:py-3 rounded-xl font-medium shadow-md flex items-center gap-2"><Icon name="Send" className="w-4 h-4 md:w-5 md:h-5"/>{!isMobile&&'Send'}</button></div>
            </div>
          </div>
        )}

        {/* Settings */}
        {activeTab==='settings'&&(
          <div className="space-y-4 md:space-y-6">
            <div className="bg-gradient-to-r from-indigo-600 to-blue-600 rounded-2xl md:rounded-3xl p-4 md:p-6 text-white"><p className="text-indigo-100 text-xs md:text-sm mb-1">Yearly Revenue Settings</p><h2 className="text-xl md:text-3xl font-bold">2026 Targets üìÖ</h2><div className="mt-3 bg-white/20 backdrop-blur rounded-xl p-3"><p className="text-indigo-100 text-xs">Annual Target</p><p className="text-2xl md:text-3xl font-bold">S${(totalAnnualTarget/1000000).toFixed(2)}M</p></div></div>
            <div className="bg-white rounded-xl md:rounded-2xl p-4 shadow-sm border border-gray-100"><p className="text-xs text-gray-500 font-medium mb-2">Select Clinic</p><div className="relative"><select value={selectedClinic} onChange={e=>setSelectedClinic(e.target.value)} className="w-full appearance-none bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 pr-10 text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500">{clinics.map(c=>(<option key={c.id} value={c.id}>{c.name}</option>))}</select><div className="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"><Icon name="ChevronDown" className="w-5 h-5 text-gray-400"/></div></div></div>
            <div className="bg-amber-50 border border-amber-200 rounded-xl p-3 md:p-4 flex items-start gap-3"><span className="text-xl">üîí</span><div><p className="font-semibold text-amber-800 text-sm">Controlled Feature</p><p className="text-xs text-amber-700">Only Central MedOps Team can modify. Changes made once a year for variance computation.</p></div></div>
            <div className="grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4">
              {months.map((m,i)=>{const t=monthlyTargets[m.key];let q='from-blue-500 to-blue-600';if(i>=3&&i<6)q='from-emerald-500 to-emerald-600';if(i>=6&&i<9)q='from-orange-500 to-orange-600';if(i>=9)q='from-violet-500 to-violet-600';return(<div key={m.key} className="bg-white rounded-xl p-3 shadow-sm border border-gray-100"><div className="flex items-center justify-between mb-2"><div className="flex items-center gap-2"><div className={`w-8 h-8 md:w-10 md:h-10 bg-gradient-to-r ${q} rounded-lg md:rounded-xl flex items-center justify-center text-white text-xs font-bold shadow`}>{m.short}</div><div><p className="font-semibold text-gray-900 text-sm">{isMobile?m.short:m.name}</p><p className="text-xs text-gray-500">Q{Math.floor(i/3)+1}</p></div></div><span className="text-gray-300 text-sm">üîí</span></div><p className="text-lg font-bold text-gray-900 text-right">S${(t/1000).toFixed(0)}k</p><div className="mt-2 bg-gray-100 rounded-full h-2"><div className={`bg-gradient-to-r ${q} h-2 rounded-full`} style={{width:`${(t/320000)*100}%`}}/></div></div>);})}
            </div>
            <div className="bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl md:rounded-2xl p-4 border border-gray-200"><h3 className="font-bold text-gray-900 mb-3 text-sm">üìä Quarterly Summary - {clinics.find(c=>c.id===selectedClinic)?.short}</h3><div className="grid grid-cols-2 md:grid-cols-4 gap-2">{[{q:'Q1',m:['jan','feb','mar'],c:'bg-blue-500'},{q:'Q2',m:['apr','may','jun'],c:'bg-emerald-500'},{q:'Q3',m:['jul','aug','sep'],c:'bg-orange-500'},{q:'Q4',m:['oct','nov','dec'],c:'bg-violet-500'}].map(quarter=>{const t=quarter.m.reduce((s,x)=>s+monthlyTargets[x],0);return(<div key={quarter.q} className="bg-white rounded-xl p-3 shadow-sm"><div className="flex items-center gap-2 mb-1"><div className={`w-3 h-3 ${quarter.c} rounded-full`}/><span className="font-bold text-sm">{quarter.q}</span></div><p className="text-lg font-bold text-gray-900">S${(t/1000).toFixed(0)}k</p></div>);})}</div></div>
            <div className="bg-gray-100 rounded-xl p-3 text-center"><p className="text-xs text-gray-500">Last updated by Central MedOps: <strong>01 Jan 2026</strong></p><p className="text-xs text-gray-400 mt-1">Clinic: {clinics.find(c=>c.id===selectedClinic)?.name}</p></div>
          </div>
        )}
      </div>

      {/* Mobile Bottom Nav */}
      {isMobile&&(
        <div className="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200 px-1 py-2 z-20">
          <div className="flex justify-around">
            {tabs.map(tab=>(<button key={tab.id} onClick={()=>setActiveTab(tab.id)} className={`flex flex-col items-center py-1 px-1 rounded-xl transition-all ${activeTab===tab.id?`${tab.bg} ${tab.color}`:'text-gray-400'}`}><Icon name={tab.icon} className="w-5 h-5"/><span className="text-xs mt-0.5 font-medium" style={{fontSize:'9px'}}>{tab.label}</span></button>))}
          </div>
        </div>
      )}

      {/* Footer */}
      {!isMobile&&<div className="text-center py-6 text-gray-400 text-sm">¬© 2025 1doc MedOps Dashboard ‚Ä¢ Prototype Demo</div>}
    </div>
  );
}

ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>
